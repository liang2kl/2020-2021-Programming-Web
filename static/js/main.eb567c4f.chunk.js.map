{"version":3,"sources":["pages/IndexPage.js","API.js","components/WebContent.js","components/GridContent.js","components/VideoListContent.js","pages/VideoListPage.js","components/UserCard.js","components/UserListContent.js","pages/UserListPage.js","pages/VideoPage.js","pages/UserPage.js","components/PagedContent.js","pages/SearchPage.js","App.js","index.js"],"names":["Content","Layout","Footer","IndexPage","props","history","useHistory","videoCount","videoNum","userCount","userNum","className","title","extra","shape","icon","SearchOutlined","onClick","push","style","padding","gutter","span","to","hoverable","value","prefix","PlaySquareFilled","loading","valueStyle","fontFamily","FundFilled","get","path","parameters","handler","axios","params","then","response","data","code","console","log","catch","error","getUser","id","WebContent","height","children","avatar","onBack","toRoot","replace","goBack","subTitle","src","GridContent","total","cols","rows","parseInt","content","itemId","direction","size","width","Array","fill","map","_","row","align","flexDirection","col","toString","VideoListContent","videos","delay","length","index","animationDelay","description","cover_url","preview","marginTop","borderRadius","VideoListPage","init_page","useParams","page","useState","setVideos","setSize","setPage","totalRecords","useEffect","count","getVideos","window","scrollTo","top","minHeight","showSizeChanger","showQuickJumper","onChange","defaultCurrent","pageSize","pageSizeOptions","UserCard","user","setUser","showBio","wrap","flex","avatar_url","Name","bio","color","link","name","UserListContent","users","UserListPage","setUsers","getUsers","shuffleArray","array","i","j","Math","floor","random","temp","VideoPage","video","setVideo","getVideo","time","marginRight","marginLeft","border","frameBorder","allowFullScreen","aspectRatio","backgroundColor","names","colors","comments","comment","author","CommentView","author_id","StatisticRow","plays","PlaySquareTwoTone","stars","LikeTwoTone","shoots","BuildTwoTone","coins","DollarCircleTwoTone","UserPage","type","getUserVideos","fan_num","FireTwoTone","subs_num","StarTwoTone","PagedContent","shownData","slice","Search","Input","SearchPage","setType","videoKey","setVideoKey","userKey","setUserKey","interval","setInterval","keyChanged","setKeyChanged","placeholder","onSearch","string","q","keyword","searchUsers","Group","defaultValue","buttonStyle","e","target","Button","App","defaults","baseURL","setVideoCount","setUserCount","getUserCount","basename","exact","render","component","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eb567c4f.chunk.js","sourcesContent":["import { Link, useHistory } from 'react-router-dom'\n\nimport { Statistic, Row, Col, Card, Layout, PageHeader, Button } from 'antd';\nimport { FundFilled, PlaySquareFilled } from '@ant-design/icons';\nimport { SearchOutlined } from '@ant-design/icons';\nimport \"./IndexPage.css\"\n\nconst { Content, Footer } = Layout;\n\nfunction IndexPage(props) {\n  const history = useHistory()\n  const videoCount = props.videoNum\n  const userCount = props.userNum\n\n  return <Layout className=\"layout\">\n    <PageHeader title=\"Bilibili Crawler\" extra={[\n      <Button shape=\"circle\" icon={<SearchOutlined />} onClick={() => {\n        history.push(\"/search\")\n      }}/>\n    ]} className=\"header-title\"/>\n    <Content style={{ padding: '0 50px' }} className=\"content\">\n      {content()}\n    </Content>\n    <Footer className=\"footer\">©2021 Liang Yesheng</Footer>\n  </Layout >\n\n\n  function content() {\n    return <div className=\"center-content\">\n      <div className=\"title\">Hello, World!</div>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Link to=\"/videos\">\n            <Card className=\"card video-card\" hoverable=\"true\">\n              <Statistic\n                title=\"总视频数\"\n                value={videoCount}\n                prefix={<PlaySquareFilled />}\n                loading={videoCount == null}\n                valueStyle={{ fontFamily: \"monaco\" }}\n              />\n            </Card>\n          </Link>\n        </Col>\n        <Col span={12}>\n          <Link to=\"/users\">\n\n            <Card className=\"card user-card\" hoverable=\"true\">\n              <Statistic\n                title=\"总用户数\"\n                value={userCount}\n                loading={userCount == null}\n                prefix={<FundFilled />}\n                valueStyle={{ fontFamily: \"monaco\" }}\n              />\n            </Card>\n          </Link>\n        </Col>\n      </Row>\n\n      </div>\n  }\n}\n\nexport default IndexPage","import axios from \"axios\"\n\nfunction get(path, parameters, handler) {\n    axios.get(path, { params: parameters })\n        .then((response) => {\n            if (response.data.code >= 0) {\n                // TODO: Handler error\n                handler(response.data)\n            } else {\n                console.log(response)\n            }\n        })\n        .catch((error) => {\n            // TODO: Handler error\n            console.log(error)\n        })\n}\n\nfunction getVideoCount(handler) {\n    get(\"/stats?type=v\", null, (data) => handler(data.data))\n}\n\nfunction getUserCount(handler) {\n    get(\"/stats?type=u\", null, (data) => handler(data.data))\n}\n\nfunction getVideos(page, count, handler) {\n    get(\"/list\", { \"page\": page, \"count\": count, \"type\": \"v\" }, (data) => handler(data.data))\n}\n\nfunction getUsers(page, count, handler) {\n    get(\"/list\", { \"page\": page, \"count\": count, \"type\": \"u\" }, (data) => handler(data.data))\n}\n\nfunction getVideo(id, handler) {\n    get(\"/video\", { \"id\": id }, (data) => handler(data.data))\n}\n\nfunction getUser(id, handler) {\n    get(\"/user\", { \"id\": id }, (data) => handler(data.data))\n}\n\nfunction getUserVideos(id, handler) {\n    get(\"/list\", { type: \"uv\", id: id }, (data) => handler(data.data))\n}\n\nfunction searchVideos(keyword, handler) {\n    get(\"/search\", { type: \"v\", q: keyword }, handler)\n}\n\nfunction searchUsers(keyword, handler) {\n    get(\"/search\", { type: \"u\", q: keyword }, handler)\n}\n\nexport {\n    getVideoCount, getUserCount,\n    getVideos, getUsers, getVideo,\n    getUser, getUserVideos,\n    searchVideos, searchUsers\n}","import { Layout, PageHeader } from \"antd\";\nimport { useHistory } from \"react-router-dom\";\n\nimport \"./WebContent.css\"\n\nconst { Footer, Content } = Layout\n\nfunction WebContent(props) {\n  const history = useHistory()\n\n  return <Layout>\n    <Content className=\"content-container\" >\n\n      <div style={{ height: \"60px\" }} />\n      <div className=\"inseted-content\" >\n        {props.children}\n      </div>\n      {props.avatar && <PageHeader\n        onBack={() => {\n          if (props.toRoot) {\n            history.replace(\"/\")\n          } else {\n            history.goBack()\n          }\n        }}\n        title={props.title}\n        subTitle={props.subTitle}\n        className=\"header\"\n        avatar={{src: props.avatar}}\n      />}\n      {!props.avatar && <PageHeader\n        onBack={() => {\n          if (props.toRoot) {\n            history.replace(\"/\")\n          } else {\n            history.goBack()\n          }\n        }}\n        title={props.title}\n        subTitle={props.subTitle}\n        className=\"header\"\n      />}\n    </Content>\n    <Footer className=\"footer\">©2021 Liang Yesheng</Footer>\n  </Layout>\n}\n\nexport default WebContent","import { Col, Row, Space } from \"antd\";\nimport \"./GridContent.css\"\n\nfunction GridContent(props) {\n  const total = props.total\n  const cols = props.cols\n  const rows = parseInt(total / cols) + ((total % cols) !== 0 ? 1 : 0)\n  const content = props.content\n  const itemId = props.itemId\n\n  return <Space direction=\"vertical\" size={16} className=\"grid-container\" style={{ width: \"100%\" }}>\n      {Array(rows).fill(null).map((_, row) =>\n        <Row key={row.toString()} align=\"middle\" gutter={[16, 16]} style={{flexDirection: \"row\"}}>\n          {Array(row === rows - 1 ? (row === 0 ? total : (total % cols)) : cols)\n            .fill(null).map((_, col) =>\n              <Col key={itemId(row * cols + col)} span={parseInt(24 / cols)}>\n                {content(row * cols + col)}\n              </Col>\n            )}\n        </Row>\n      )}\n    </Space>\n\n}\n\nexport default GridContent","import { Card, Image, Tooltip } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport GridContent from \"./GridContent\";\n\n\nfunction VideoListContent(props) {\n  const videos = props.videos ? props.videos : []\n  const cols = props.cols ? props.cols : 4\n  const delay = props.delay ? props.delay : 0\n\n  return <GridContent\n    total={videos.length}\n    cols={cols}\n    content={(index) => <Link to={\"/video/\" + videos[index].id}>\n      <Card hoverable={true} className=\"c\"\n        style={{ animationDelay: (index * 0.03 + delay).toString() + \"s\" }}>\n        <Tooltip title={videos[index].title}>\n          <h3 className=\"card-header card-text\">{videos[index].title}</h3>\n        </Tooltip>\n        <div className=\"card-description card-text\">{videos[index].description}</div>\n        <Image\n          src={videos[index].cover_url + \"@412w_232h_1c.jpg\"}\n          preview={false}\n          style={{\n            marginTop: \"16px\",\n            borderRadius: \"3px\"\n          }}\n        />\n      </Card>\n    </Link>}\n    itemId={(index) => videos[index].id}\n  />\n}\n\nexport default VideoListContent","import { getVideos } from \"../API\";\nimport { useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { Pagination, Layout } from \"antd\";\n\nimport WebContent from \"../components/WebContent\";\nimport VideoListContent from \"../components/VideoListContent\";\nimport \"./VideoListPage.css\"\n\nconst { Footer } = Layout;\n\nfunction VideoListPage(props) {\n  const { page: init_page } = useParams()\n\n  const history = useHistory()\n  const [videos, setVideos] = useState([])\n  const [size, setSize] = useState(40)\n  const [page, setPage] = useState(init_page)\n\n  const totalRecords = props.videoNum\n\n  useEffect(() => {\n    getVideos(init_page, size, videos => {\n      setVideos(videos)\n      setPage(page)\n      window.scrollTo({ top: 0 })\n    })\n    // eslint-disable-next-line\n  }, [init_page, size])\n\n  return <WebContent title=\"所有视频\" subTitle={\"第 \" + init_page.toString() + \" 页\"} toRoot={true}>\n    {videos.length > 0 && <VideoListContent videos={videos}/>}\n    {videos.length === 0 && <div style={{ minHeight: \"1000px\" }} />}\n\n    <Footer align=\"center\">\n      <Pagination\n        showSizeChanger\n        showQuickJumper\n        onChange={(page, size) => {\n          setPage(page)\n          setSize(size)\n          history.push(\"/videos/\" + page.toString())\n        }}\n        defaultCurrent={init_page}\n        total={totalRecords}\n        pageSize={size}\n        pageSizeOptions={[20, 40, 60, 100]}\n      />\n    </Footer>\n\n  </WebContent>\n}\n\nexport default VideoListPage","import { getUser } from \"../API\";\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Card, Avatar, Col, Row, Space } from \"antd\";\n\nimport \"./UserCard.css\"\n\n\nfunction UserCard(props) {\n  const [user, setUser] = useState(props.user)\n  const id = props.id\n  const title = props.title\n  const showBio = props.showBio\n  const hoverable = props.hoverable ? props.hoverable : false\n\n  useEffect(() => {\n    if (id && !user) {\n      getUser(id, (user) => {\n        setUser(user)\n      })\n    }\n  })\n\n  return <Card\n    title={title}\n    loading={user == null}\n    className={props.className}\n    style={props.style}\n    hoverable={hoverable}\n  >\n    {user && <Space direction=\"vertical\" size={8}>\n\n      <Row gutter={16} align=\"middle\" wrap={false}>\n        <Col flex=\"none\" >\n          <Avatar src={user.avatar_url + \"@90w_90h_1c_100q.webp\"} />\n        </Col>\n        <Col className=\"user-name\" flex=\"auto\">\n          <Name />\n        </Col>\n      </Row>\n      {user.bio.length > 0 && showBio &&\n        <div\n          style={{ marginTop: \"15px\" }}\n        >\n          <strong>简介</strong>\n          <div style={{ color: \"gray\" }}>{user.bio}</div>\n        </div>}\n\n    </Space>\n    }\n\n  </Card>\n\n  function Name() {\n    if (props.link) {\n      return <Link to={\"/user/\" + user.id} className=\"user-name\">\n        <strong className=\"user-link\">{user.name}</strong>\n      </Link>\n    } else {\n      return <strong className=\"user-name\">{user.name}</strong>\n    }\n  }\n}\n\nexport default UserCard","import { Link } from \"react-router-dom\";\nimport GridContent from \"./GridContent\";\nimport UserCard from \"./UserCard\";\n\n\nfunction UserListContent(props) {\n    const users = props.users ? props.users : []\n    const cols = props.cols ? props.cols : 4\n    const delay = props.delay ? props.delay : 0\n\n    return <GridContent\n        total={users.length}\n        cols={cols}\n        content={(index) => <Link to={\"/user/\" + users[index].id}>\n            <UserCard user={users[index]} className=\"c\" style={{ animationDelay: (delay + index * 0.01).toString() + \"s\" }} hoverable />\n        </Link>}\n        itemId={(index) => users[index].id}\n    />\n}\n\nexport default UserListContent","import { useParams, useHistory } from \"react-router-dom\";\nimport { getUsers } from \"../API\";\nimport { useEffect, useState } from \"react\";\nimport { Pagination, Layout } from \"antd\";\n\nimport WebContent from \"../components/WebContent\";\nimport UserListContent from \"../components/UserListContent\";\n\nconst { Footer } = Layout;\n\n\nfunction UserListPage(props) {\n  const { page: init_page } = useParams()\n  const history = useHistory()\n  const [users, setUsers] = useState([])\n  const [size, setSize] = useState(40)\n  const [page, setPage] = useState(init_page)\n\n  const totalRecords = props.userNum\n\n  useEffect(() => {\n    getUsers(init_page, size, users => {\n      setUsers(users)\n      setPage(page)\n      window.scrollTo({ top: 0 })\n    })\n    // eslint-disable-next-line\n  }, [init_page, size])\n\n\n  return <WebContent title=\"所有用户\" subTitle={\"第 \" + init_page.toString() + \" 页\"} toRoot={true}>\n    {users.length > 0 && <UserListContent users={users} cols={4} /> }\n    {users.length === 0 && <div style={{ minHeight: \"1000px\" }} />}\n\n    <Footer align=\"center\">\n      <Pagination\n        showSizeChanger\n        onChange={(page, size) => {\n          setPage(page)\n          setSize(size)\n          history.push(\"/users/\" + page.toString())\n        }}\n        defaultCurrent={init_page}\n        total={totalRecords}\n        pageSize={size}\n        pageSizeOptions={[20, 40, 60, 100]}\n      />\n    </Footer>\n\n  </WebContent>\n}\n\nexport default UserListPage","import { useParams } from \"react-router\";\nimport { useEffect, useState } from \"react\";\nimport { getVideo } from \"../API\";\nimport UserCard from \"../components/UserCard\";\nimport { Card, Space, Statistic, Row, Col, Comment, Avatar } from \"antd\";\nimport { PlaySquareTwoTone, BuildTwoTone, LikeTwoTone, DollarCircleTwoTone } from \"@ant-design/icons\";\n\nimport WebContent from \"../components/WebContent\";\n\nimport \"./VideoPage.css\"\n\nfunction VideoPage() {\n  const { id } = useParams()\n\n  const [video, setVideo] = useState(null)\n\n  useEffect(() => {\n    getVideo(id, (video) => {\n      setVideo(video)\n      window.scrollTo(0, 0)\n    })\n  }, [id])\n\n  return <WebContent\n    title={video ? video.title : \"加载中\"}\n    subTitle={video ? video.time : id}\n  >\n    <Row gutter={24} style={{\n      marginTop: \"20px\", marginRight: \"20px\", marginLeft: \"20px\"\n    }}>\n\n      <Col span={18}>\n        <Space direction=\"vertical\" size={24} style={{ width: \"100%\" }}>\n\n          <iframe\n            title=\"bilibili\"\n            className=\"video-player fade-slide-animated\"\n            border=\"0\"\n            frameBorder=\"no\"\n            allowFullScreen={true}\n            src={\"https://player.bilibili.com/player.html?bvid=\" + id}\n            style={{ width: \"100%\", aspectRatio: \"1.7\", backgroundColor: \"#fff\" }}\n          />\n\n          <Card\n            className=\"fade-slide-animated\"\n            title=\"评论\"\n            style={{ animationDelay: \"0.2s\" }}\n            loading={video == null}\n          >\n            {video && CommentView()}\n          </Card>\n        </Space>\n\n      </Col>\n\n      <Col span={6} >\n        <UserCard\n          id={video ? video.author_id : null}\n          className=\"fade-slide-animated\"\n          title=\"UP 主\"\n          style={{ animationDelay: \"0.05s\" }}\n          link\n          showBio\n        />\n        <div style={{ height: 24 }} />\n        <Card\n          className=\"fade-slide-animated\"\n          title=\"视频信息\"\n          loading={video == null}\n          style={{ animationDelay: \"0.1s\" }}\n        >\n          {video && <Space direction=\"vertical\" size={18} style={{ width: \"100%\" }} >\n            {StatisticRow(\"播放量\", video.plays,\n              <PlaySquareTwoTone />, 0)}\n            {StatisticRow(\"点赞数\", video.stars,\n              <LikeTwoTone />, 1)}\n            {StatisticRow(\"弹幕数\", video.shoots,\n              <BuildTwoTone />, 2)}\n            {StatisticRow(\"投币数\", video.coins,\n              <DollarCircleTwoTone />, 3)}\n            {video.description.length > 4 &&\n              <div\n                className=\"fade-slide-animated\"\n                style={{ marginTop: \"15px\", animationDelay: \"0.3s\" }}\n              >\n                <strong>简介</strong>\n                <div style={{ color: \"gray\" }}>{video.description}</div>\n              </div>}\n\n          </Space>\n          }\n        </Card>\n      </Col>\n    </Row>\n  </WebContent>\n\n  function StatisticRow(title, value, prefix, index) {\n    return <Statistic\n      className=\"fade-slide-animated\"\n      title={title}\n      value={value}\n      prefix={prefix}\n      style={{ animationDelay: (0.06 * index).toString() + \"s\" }}\n    />\n  }\n\n  function CommentView() {\n    const names = [\"Ailce\", \"Bob\", \"Carol\", \"Dave\", \"Eve\"]\n    const colors = [\"#fa541c\", \"#fa8c16\", \"#faad14\", \"#fadb14\",\n      \"#a0d911\", \"#52c41a\", \"#13c2c2\", \"#1890ff\", \"#2f54eb\", \"#722ed1\"]\n    shuffleArray(colors)\n    return video.comments.map((comment, index) =>\n      <Comment\n        key={index}\n        className=\"fade-slide-animated\"\n        author={names[index % 5]}\n        avatar={<Avatar style={{ backgroundColor: colors[index % 5] }} />}\n        content={comment}\n        style={{ animationDelay: (index * 0.1).toString() + \"s\" }}\n      />\n    )\n  }\n\n}\n\nfunction shuffleArray(array) {\n  for (var i = array.length - 1; i > 0; i--) {\n    var j = Math.floor(Math.random() * (i + 1));\n    var temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n  }\n}\n\nexport default VideoPage","import { useParams } from \"react-router\";\nimport { useEffect, useState } from \"react\";\nimport { getUser, getUserVideos } from \"../API\";\nimport VideoListContent from \"../components/VideoListContent\";\nimport WebContent from \"../components/WebContent\";\nimport { Card, Space, Statistic, Row, Col } from \"antd\";\nimport { FireTwoTone, StarTwoTone } from \"@ant-design/icons\";\n\nimport \"./UserPage.css\"\n\nfunction UserPage() {\n  const { id } = useParams()\n\n  const [videos, setVideos] = useState(null)\n  const [user, setUser] = useState(null)\n\n  useEffect(() => {\n    getUser(id, (user) => {\n      setUser(user)\n    })\n    getUserVideos(id, (videos) => {\n      setVideos(videos)\n      console.log(videos)\n    })\n  }, [id])\n\n  return <WebContent title={user ? user.name : \"加载中\"} avatar={user ? user.avatar_url + \"@90w_90h_1c_100q.webp\" : null}>\n    <Row gutter={48}>\n      <Col span={18}>\n        <Space direction=\"vertical\" size={24} style={{ width: \"100%\" }}>\n          <h2 className=\"fade-animated section-header\" style={{ animationDelay: \"0.5s\", marginTop: \"10px\" }}>视频</h2>\n          {videos && <VideoListContent videos={videos} delay={0.3} cols={3} />}\n        </Space>\n      </Col>\n\n      <Col span={6}>\n        <Card\n          className=\"fade-slide-animated\"\n          title=\"关于 UP 主\"\n          loading={user == null}\n          style={{ animationDelay: \"0.5s\" }}\n        >\n          {user && <Space direction=\"vertical\" size={18} style={{ width: \"100%\" }} >\n            {StatisticRow(\"粉丝数\", user.fan_num,\n              <FireTwoTone />, 4)}\n            {StatisticRow(\"关注数\", user.subs_num,\n              <StarTwoTone />, 5)}\n            {user.bio.length > 4 &&\n              <div\n                className=\"fade-slide-animated\"\n                style={{ marginTop: \"15px\", animationDelay: \"0.6s\" }}\n              >\n                <strong>简介</strong>\n              <div style={{ color: \"gray\" }}>{user.bio}</div>\n              </div>}\n          </Space>}\n        </Card>\n      </Col>\n    </Row>\n  </WebContent>\n\n  function StatisticRow(title, value, prefix, index) {\n    return <Statistic\n      className=\"fade-slide-animated\"\n      title={title}\n      value={value}\n      prefix={prefix}\n      style={{ animationDelay: (0.06 * index).toString() + \"s\" }}\n    />\n  }\n\n}\n\nexport default UserPage","import { Pagination, Layout } from \"antd\";\nimport { useState } from \"react\";\n\nconst Footer = Layout\n\nexport function PagedContent(props) {\n  const data = props.data\n  const content = props.content\n\n  const [size, setSize] = useState(20)\n  const [page, setPage] = useState(1)\n\n  const shownData = data.slice((page - 1) * size, page * size)\n\n  return <>\n    {content(shownData)}\n    <Footer align=\"center\">\n      <Pagination\n        showSizeChanger\n        showQuickJumper\n        onChange={(page, size) => {\n          setPage(page)\n          setSize(size)\n          window.scrollTo(0, 0)\n        }}\n        defaultCurrent={1}\n        total={data.length}\n        pageSize={size}\n        pageSizeOptions={[20, 40, 60, 100]}\n      />\n    </Footer>\n\n  </>\n}","import { Input, Radio, Space } from 'antd'\nimport { searchUsers, searchVideos } from '../API'\nimport WebContent from \"../components/WebContent\"\nimport VideoListContent from '../components/VideoListContent'\nimport UserListContent from '../components/UserListContent'\nimport { PagedContent } from '../components/PagedContent'\nimport { useState } from 'react'\n\nimport \"./SearchPage.css\"\n\nconst { Search } = Input\n\nfunction SearchPage() {\n\n  const [type, setType] = useState(\"v\")\n  const [videos, setVideos] = useState([])\n  const [users, setUsers] = useState([])\n  const [videoKey, setVideoKey] = useState(\"\")\n  const [userKey, setUserKey] = useState(\"\")\n  const [interval, setInterval] = useState()\n  const [keyChanged, setKeyChanged] = useState(true)\n\n  return <WebContent title=\"搜索\" subTitle={interval ? (interval * 1000).toString() + \"ms\" : \"\"}>\n    <Space direction=\"vertical\" size={24} style={{ width: \"100%\", marginLeft: \"24px\", marginRight: \"24px\" }}>\n      <Search placeholder={\"搜索\" + (type === \"v\" ? \"视频\" : \"用户\")} className=\"fade-slide-animated\"\n        size=\"large\" onChange={() => setKeyChanged(true)} onSearch={(string) => {\n          if (!string && keyChanged) { return }\n          if (type === \"v\" && videoKey !== string) {\n            setVideoKey(string)\n            setKeyChanged(false)\n            setInterval(null)\n            searchVideos(string, (data) => {\n              setVideos(data.data)\n              setInterval(data.interval.toString())\n            })\n          } else if (userKey !== string) {\n            setUserKey(string)\n            setKeyChanged(false)\n            setInterval(null)\n            searchUsers(string, (data) => {\n              setUsers(data.data)\n              setInterval(data.interval)\n            })\n          }\n        }} />\n      <Radio.Group className=\"fade-slide-animated\" style={{ animationDelay: \"0.1s\" }}\n        defaultValue={type} buttonStyle=\"solid\" onChange={(e) => setType(e.target.value)}>\n        <Radio.Button value=\"v\">视频</Radio.Button>\n        <Radio.Button value=\"u\">用户</Radio.Button>\n      </Radio.Group>\n\n      <h2 className=\"fade-slide-animated\">{type === \"v\" ? videoKey : userKey}</h2>\n      {type === \"v\" && videos.length > 0 &&\n        <PagedContent data={videos} content={(videos) => <VideoListContent videos={videos} />} />\n      }\n      {type === \"u\" && users.length > 0 &&\n        <PagedContent data={users} content={(users) => <UserListContent users={users} />} />\n      }\n      {((type === \"v\" && videos.length === 0) || (type === \"u\" && users.length === 0)) &&\n        <div className=\"fade-slide-animated\" style={{ height: \"800px\", animationDelay: \"0.1s\"}}>输入搜索内容</div>\n      }\n\n    </Space>\n  </WebContent>\n}\n\nexport default SearchPage","import IndexPage from './pages/IndexPage';\nimport VideoListPage from './pages/VideoListPage';\nimport UserListPage from './pages/UserListPage';\nimport VideoPage from './pages/VideoPage';\nimport UserPage from './pages/UserPage';\nimport SearchPage from './pages/SearchPage';\nimport axios from \"axios\"\nimport { HashRouter, Switch, Route, Redirect } from 'react-router-dom'\nimport { useState, useEffect } from 'react';\nimport { getVideoCount, getUserCount } from \"./API\"\n\nfunction App() {\n  // Setup request base url\n  axios.defaults.baseURL = \"http://localhost:8000\"\n\n  const [videoCount, setVideoCount] = useState(null)\n  const [userCount, setUserCount] = useState(null)\n\n  useEffect(() => {\n    getVideoCount(count => setVideoCount(count))\n    getUserCount(count => setUserCount(count))\n  }, [])\n\n  return (\n    <HashRouter basename={\"/\"}>\n      <Switch>\n        <Route path=\"/\" exact render={() => <IndexPage userNum={userCount} videoNum={videoCount}/>} />\n        <Route path=\"/videos/:page\" component={() => <VideoListPage videoNum={videoCount}/>} />\n        <Route path=\"/users/:page\" component={() => <UserListPage userNum={userCount} />} />\n        <Route path=\"/video/:id\" component={() => <VideoPage />} />\n        <Route path=\"/user/:id\" component={() => <UserPage />} />\n        <Route path=\"/videos\" component={() => <Redirect to=\"/videos/1\"/>}/>\n        <Route path=\"/users\" component={() => <Redirect to=\"/users/1\" />} />\n        <Route path=\"/search\" component={() => <SearchPage />} />\n      </Switch>\n    </HashRouter>\n\n  )\n    \n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}